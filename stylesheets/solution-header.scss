// ULTRA-AGGRESSIVE navigation hiding on /lists/ pages - Multiple selector approaches for zero-flash
body[class*="/lists/"] #navigation-bar .nav-item_categories,
body[class*="/lists/"] #navigation-bar .nav-item_latest, 
body[class*="/lists/"] #navigation-bar .nav-item_new,
body[class*="/lists/"] #navigation-bar .nav-item_top,
body[class*="/lists/"] #navigation-bar .nav-item_unread,
body[class*="lists-"] #navigation-bar .nav-item_categories,
body[class*="lists-"] #navigation-bar .nav-item_latest, 
body[class*="lists-"] #navigation-bar .nav-item_new,
body[class*="lists-"] #navigation-bar .nav-item_top,
body[class*="lists-"] #navigation-bar .nav-item_unread,
body.lists-show #navigation-bar .nav-item_categories,
body.lists-show #navigation-bar .nav-item_latest,
body.lists-show #navigation-bar .nav-item_new,
body.lists-show #navigation-bar .nav-item_top,
body.lists-show #navigation-bar .nav-item_unread,
body[data-page*="lists"] #navigation-bar .nav-item_categories,
body[data-page*="lists"] #navigation-bar .nav-item_latest,
body[data-page*="lists"] #navigation-bar .nav-item_new,
body[data-page*="lists"] #navigation-bar .nav-item_top,
body[data-page*="lists"] #navigation-bar .nav-item_unread,
body[data-current-path*="/lists/"] #navigation-bar .nav-item_categories,
body[data-current-path*="/lists/"] #navigation-bar .nav-item_latest,
body[data-current-path*="/lists/"] #navigation-bar .nav-item_new,
body[data-current-path*="/lists/"] #navigation-bar .nav-item_top,
body[data-current-path*="/lists/"] #navigation-bar .nav-item_unread,
// ULTRA-AGGRESSIVE sorting navigation hiding
body[class*="/lists/"] .navigation-controls .nav-pills .nav-item,
body[class*="/lists/"] .topic-list-header .sortable,
body[class*="/lists/"] .period-chooser,
body[class*="/lists/"] .list-controls .nav-pills,
body[class*="lists-"] .navigation-controls .nav-pills .nav-item,
body[class*="lists-"] .topic-list-header .sortable,
body[class*="lists-"] .period-chooser,
body[class*="lists-"] .list-controls .nav-pills,
body.lists-show .navigation-controls .nav-pills .nav-item,
body.lists-show .topic-list-header .sortable,
body.lists-show .period-chooser,
body.lists-show .list-controls .nav-pills,
body[data-page*="lists"] .navigation-controls .nav-pills .nav-item,
body[data-page*="lists"] .topic-list-header .sortable,
body[data-page*="lists"] .period-chooser,
body[data-page*="lists"] .list-controls .nav-pills,
body[data-current-path*="/lists/"] .navigation-controls .nav-pills .nav-item,
body[data-current-path*="/lists/"] .topic-list-header .sortable,
body[data-current-path*="/lists/"] .period-chooser,
body[data-current-path*="/lists/"] .list-controls .nav-pills {
  display: none !important;
  visibility: hidden !important;
  width: 0 !important;
  height: 0 !important;
  overflow: hidden !important;
  opacity: 0 !important;
  position: absolute !important;
  left: -9999px !important;
}

// ULTRA-AGGRESSIVE category and tag filter hiding only on /lists/ pages
body[class*="/lists/"] .category-breadcrumb .category-drop,
body[class*="/lists/"] .category-breadcrumb .tag-drop:not(.custom-list-dropdown),
body[class*="lists-"] .category-breadcrumb .category-drop,
body[class*="lists-"] .category-breadcrumb .tag-drop:not(.custom-list-dropdown),
body.lists-show .category-breadcrumb .category-drop,
body.lists-show .category-breadcrumb .tag-drop:not(.custom-list-dropdown),
body[data-page*="lists"] .category-breadcrumb .category-drop,
body[data-page*="lists"] .category-breadcrumb .tag-drop:not(.custom-list-dropdown),
body[data-current-path*="/lists/"] .category-breadcrumb .category-drop,
body[data-current-path*="/lists/"] .category-breadcrumb .tag-drop:not(.custom-list-dropdown),
body[class*="/lists/"] .category-breadcrumb li:first-child:not(:has(.custom-list-dropdown)),
body[class*="/lists/"] .category-breadcrumb li:nth-child(2):not(:has(.custom-list-dropdown)),
body[class*="lists-"] .category-breadcrumb li:first-child:not(:has(.custom-list-dropdown)),
body[class*="lists-"] .category-breadcrumb li:nth-child(2):not(:has(.custom-list-dropdown)),
body.lists-show .category-breadcrumb li:first-child:not(:has(.custom-list-dropdown)),
body.lists-show .category-breadcrumb li:nth-child(2):not(:has(.custom-list-dropdown)),
body[data-page*="lists"] .category-breadcrumb li:first-child:not(:has(.custom-list-dropdown)),
body[data-page*="lists"] .category-breadcrumb li:nth-child(2):not(:has(.custom-list-dropdown)),
body[data-current-path*="/lists/"] .category-breadcrumb li:first-child:not(:has(.custom-list-dropdown)),
body[data-current-path*="/lists/"] .category-breadcrumb li:nth-child(2):not(:has(.custom-list-dropdown)) {
  display: none !important;
  visibility: hidden !important;
  width: 0 !important;
  height: 0 !important;
  overflow: hidden !important;
  opacity: 0 !important;
  position: absolute !important;
  left: -9999px !important;
}

// Hide header content until JavaScript styling loads on solution pages
body[class*="/lists/"] .category-title-header,
body[class*="lists-"] .category-title-header {
  visibility: hidden;
  min-height: 150px; // Reserve space to prevent layout shift
  
  &.header-styled {
    visibility: visible;
    opacity: 1;
    transition: opacity 0.3s ease-in-out;
  }
}

  .category-title {
    font-size: clamp(26px, 4vw, 32px) !important;
    font-weight: 700 !important;
    color: var(--primary) !important;
    line-height: 1.2 !important;
    max-width: 850px !important;
    margin: 0 auto 16px !important;
  }

  .category-title-description .solution-subtext {
    font-size: 17px !important;
    color: var(--primary-high) !important;
    line-height: 1.6 !important;
    max-width: 1000px !important; // Expanded to 1000px for two-line layout
    margin: 0 auto !important;
    
    strong {
      color: var(--primary) !important;
      font-weight: 600 !important;
    }
  }
}

// Subscribe button styling
.subscribe-wrapper {
  margin-left: auto;

  .subscribe-btn {
    all: unset;
    cursor: pointer;
    font-weight: 600;
    padding: 8px 12px;
    background: var(--tertiary);
    color: var(--secondary);
    border-radius: 4px;
    white-space: nowrap;

    &.subscribed {
      background: var(--success);
      color: var(--success-contrast);
    }
  }
}

// ULTRA-AGGRESSIVE: Higher specificity selectors to override Discourse defaults
body section.navigation-container,
section.navigation-container,
.navigation-container {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  width: 100% !important;
  background: rgba(255, 0, 0, 0.3) !important; // DEBUG: Red background
}

body .navigation-container .category-breadcrumb,
section.navigation-container .category-breadcrumb,
.navigation-container .category-breadcrumb {
  display: flex !important;
  align-items: center !important;
  flex-grow: 1 !important;
  background: rgba(0, 255, 0, 0.3) !important; // DEBUG: Green background
}

body .navigation-controls,
section.navigation-container .navigation-controls,
.navigation-container .navigation-controls {
  display: flex !important;
  align-items: center !important;
  margin-left: auto !important;
  flex-shrink: 0 !important;
  background: rgba(0, 0, 255, 0.3) !important; // DEBUG: Blue background
}

body #solution-subscribe-wrapper,
section.navigation-container #solution-subscribe-wrapper,
.navigation-controls #solution-subscribe-wrapper {
  margin-left: auto !important;
  flex-shrink: 0 !important;
  background: rgba(255, 255, 0, 0.5) !important; // DEBUG: Yellow background
}

// SURGICAL FIX: Force proper flexbox behavior at 1500px breakpoint
@media (max-width: 1500px) {
  .navigation-controls {
    display: flex !important;
    align-items: center !important;
    justify-content: flex-start !important;
    flex-wrap: nowrap !important;
  }
  
  #solution-subscribe-wrapper {
    margin-left: auto !important;
    flex-shrink: 0 !important;
    order: 999 !important;
  }
}

// Standard Netwrix button styling to match community notification buttons
#solution-subscribe-button,
#solution-subscribe-button.btn,
#solution-subscribe-button.btn-default,
#solution-subscribe-button.btn-primary,
button#solution-subscribe-button {
  // Match standard Netwrix button dimensions and layout
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  height: 42px !important;
  min-width: 120px !important;
  padding: 8px 16px !important;
  
  // Match standard Netwrix button styling
  font-family: "Open Sans", Arial, sans-serif !important;
  font-size: 16px !important;
  font-weight: 400 !important;
  line-height: normal !important;
  text-align: center !important;
  white-space: nowrap !important;
  
  // Match standard Netwrix button colors and borders
  background: rgba(0, 0, 0, 0) !important;
  background-color: rgba(0, 0, 0, 0) !important;
  background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0)) !important;
  border: 2px solid rgb(0, 104, 218) !important;
  border-radius: 5px !important;
  color: rgb(0, 104, 218) !important;
  
  // Remove any conflicting styles
  box-shadow: none !important;
  text-shadow: none !important;
  
  &:hover,
  &:focus,
  &:active {
    background: rgba(0, 104, 218, 0.1) !important;
    background-color: rgba(0, 104, 218, 0.1) !important;
    border-color: rgb(0, 104, 218) !important;
    color: rgb(0, 104, 218) !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  &.subscribed {
    border-color: #28a745 !important;
    color: #28a745 !important;
    
    &:hover,
    &:focus,
    &:active {
      background: rgba(40, 167, 69, 0.1) !important;
      background-color: rgba(40, 167, 69, 0.1) !important;
      border-color: #28a745 !important;
      color: #28a745 !important;
      box-shadow: none !important;
      text-shadow: none !important;
    }
  }
}

// Responsive line breaks for titles - match staging behavior exactly
// In staging, breaks are visible by default and controlled by their own responsive logic

// Subscribe button truncation now handled by JavaScript instead of CSS

// Ultra-narrow screens - compact button with minimal padding
@media (max-width: 500px) {
  #solution-subscribe-button {
    padding: 0.4em 0.5em !important; // Reduced padding for icon-only mode
    min-width: auto !important;
    font-size: 0.9em !important; // Slightly smaller for ultra-narrow
  }
}

// Hide dropdown text until JavaScript replacement is complete - same approach as banner
.custom-list-dropdown {
  .select-kit-selected-name .name,
  .selected-name .name,
  .name {
    visibility: hidden;
    
    &.solutions-ready {
      visibility: visible;
      transition: opacity 0.2s ease-in-out;
    }
  }
  
  // Also target by attributes that might contain "Custom lists"
  &[data-name="Custom lists"],
  &[aria-label*="Custom lists"] {
    .select-kit-selected-name .name,
    .selected-name .name,
    .name {
      visibility: hidden;
      
      &.solutions-ready {
        visibility: visible;
        transition: opacity 0.2s ease-in-out;
      }
    }
  }
  
  // Show immediately if already processed or doesn't contain "Custom lists"
  &.solutions-ready,
  &[data-name="Solutions"],
  &[aria-label*="Solutions"] {
    .select-kit-selected-name .name,
    .selected-name .name,
    .name {
      visibility: visible !important;
    }
  }
}